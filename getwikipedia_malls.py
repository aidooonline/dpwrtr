import requests
from bs4 import BeautifulSoup
import os

# List of comma-separated URLs
urls = [
"https://en.wikipedia.org/wiki/Trumbull_Mall","https://en.wikipedia.org/wiki/Westfarms","https://en.wikipedia.org/wiki/Parkway_Plaza","https://en.wikipedia.org/wiki/The_Paseo_(Pasadena)","https://en.wikipedia.org/wiki/Plaza_West_Covina","https://en.wikipedia.org/wiki/The_Promenade_(California)","https://en.wikipedia.org/wiki/Promenade_on_the_Peninsula","https://en.wikipedia.org/wiki/Promenade_Temecula","https://en.wikipedia.org/wiki/Puente_Hills_Mall","https://en.wikipedia.org/wiki/The_Quad_at_Whittier","https://en.wikipedia.org/wiki/Redlands_Mall","https://en.wikipedia.org/wiki/Bridgepointe_Shopping_Center","https://en.wikipedia.org/wiki/Santa_Maria_Town_Center","https://en.wikipedia.org/wiki/Santa_Monica_Place","https://en.wikipedia.org/wiki/Santa_Rosa_Plaza","https://en.wikipedia.org/wiki/Serramonte_Center","https://en.wikipedia.org/wiki/Hemet_Valley_Mall","https://en.wikipedia.org/wiki/Hillsdale_Shopping_Center","https://en.wikipedia.org/wiki/Hilltop_Horizon","https://en.wikipedia.org/wiki/Horton_Plaza_Mall","https://en.wikipedia.org/wiki/Bella_Terra","https://en.wikipedia.org/wiki/Imperial_Valley_Mall","https://en.wikipedia.org/wiki/Indian_Hill_Village","https://en.wikipedia.org/wiki/Indio_Fashion_Mall","https://en.wikipedia.org/wiki/Inland_Center","https://en.wikipedia.org/wiki/Irvine_Spectrum_Center","https://en.wikipedia.org/wiki/La_Cumbre_Plaza","https://en.wikipedia.org/wiki/La_Habra_Fashion_Square","https://en.wikipedia.org/wiki/La_Jolla_Village_Square","https://en.wikipedia.org/wiki/La_Mirada_Mall","https://en.wikipedia.org/wiki/Laguna_Hills_Mall","https://en.wikipedia.org/wiki/Lakewood_Center","https://en.wikipedia.org/wiki/Las_Americas_Premium_Outlets","https://en.wikipedia.org/wiki/NoHo_West","https://en.wikipedia.org/wiki/Long_Beach_Plaza","https://en.wikipedia.org/wiki/Los_Cerritos_Center","https://en.wikipedia.org/wiki/MainPlace_Mall","https://en.wikipedia.org/wiki/The_Mall_of_Victor_Valley","https://en.wikipedia.org/wiki/Manhattan_Village","https://en.wikipedia.org/wiki/Mayfield_Mall","https://en.wikipedia.org/wiki/Metreon","https://en.wikipedia.org/wiki/Montclair_Place","https://en.wikipedia.org/wiki/Moreno_Valley_Mall","https://en.wikipedia.org/wiki/NewPark_Mall","https://en.wikipedia.org/wiki/North_County_Mall","https://en.wikipedia.org/wiki/Northgate_Mall_(San_Rafael)","https://en.wikipedia.org/wiki/Northridge_Fashion_Center","https://en.wikipedia.org/wiki/Northridge_Mall","https://en.wikipedia.org/wiki/The_Oaks_(Thousand_Oaks","_California)","https://en.wikipedia.org/wiki/Old_Towne_Mall","https://en.wikipedia.org/wiki/Ontario_Mills","https://en.wikipedia.org/wiki/Ovation_Hollywood","https://en.wikipedia.org/wiki/Pacific_East_Mall","https://en.wikipedia.org/wiki/Pacific_View_Mall","https://en.wikipedia.org/wiki/Palm_Springs_Mall","https://en.wikipedia.org/wiki/Panorama_Mall","https://en.wikipedia.org/wiki/Central_Mall_(Fort_Smith","_Arkansas)","https://en.wikipedia.org/wiki/Indian_Mall","https://en.wikipedia.org/wiki/The_Mall_at_Turtle_Creek","https://en.wikipedia.org/wiki/McCain_Mall","https://en.wikipedia.org/wiki/Northwest_Arkansas_Mall","https://en.wikipedia.org/wiki/Park_Plaza_Mall","https://en.wikipedia.org/wiki/Pavilion_in_the_Park","https://en.wikipedia.org/wiki/University_Mall_(Little_Rock","_Arkansas)","https://en.wikipedia.org/wiki/Americana_at_Brand","https://en.wikipedia.org/wiki/Anaheim_GardenWalk","https://en.wikipedia.org/wiki/Anaheim_Plaza","https://en.wikipedia.org/wiki/Antelope_Valley_Mall","https://en.wikipedia.org/wiki/Arden_Fair","https://en.wikipedia.org/wiki/Asian_Garden_Mall","https://en.wikipedia.org/wiki/Baldwin_Hills_Crenshaw_Plaza","https://en.wikipedia.org/wiki/Barstow_Mall","https://en.wikipedia.org/wiki/Bayfair_Center","https://en.wikipedia.org/wiki/Bayshore_Mall","https://en.wikipedia.org/wiki/Beverly_Center","https://en.wikipedia.org/wiki/Beverly_Connection","https://en.wikipedia.org/wiki/Brea_Mall","https://en.wikipedia.org/wiki/The_Bloc_Los_Angeles","https://en.wikipedia.org/wiki/Buena_Park_Downtown","https://en.wikipedia.org/wiki/Burbank_Town_Center","https://en.wikipedia.org/wiki/Capitola_Mall","https://en.wikipedia.org/wiki/Carousel_Mall","https://en.wikipedia.org/wiki/Chico_Marketplace","https://en.wikipedia.org/wiki/Chula_Vista_Center","https://en.wikipedia.org/wiki/Citadel_Outlets","https://en.wikipedia.org/wiki/City_National_Plaza","https://en.wikipedia.org/wiki/The_Outlets_at_Orange","https://en.wikipedia.org/wiki/Coddingtown_Mall","https://en.wikipedia.org/wiki/Del_Amo_Fashion_Center","https://en.wikipedia.org/wiki/Del_Monte_Center","https://en.wikipedia.org/wiki/Downtown_Plaza","https://en.wikipedia.org/wiki/East_Bay_Science_and_Technology_Center","https://en.wikipedia.org/wiki/Eastland_Center_(California)","https://en.wikipedia.org/wiki/Eastmont_Town_Center","https://en.wikipedia.org/wiki/Eastridge_Center","https://en.wikipedia.org/wiki/Escondido_Village_Mall","https://en.wikipedia.org/wiki/Esplanade_Shopping_Center","https://en.wikipedia.org/wiki/Fallbrook_Center","https://en.wikipedia.org/wiki/Fashion_Fair","https://en.wikipedia.org/wiki/Fashion_Island","https://en.wikipedia.org/wiki/Fashion_Valley_Mall","https://en.wikipedia.org/wiki/FIGat7th","https://en.wikipedia.org/wiki/Florin_Towne_Centre","https://en.wikipedia.org/wiki/Galleria_at_Tyler","https://en.wikipedia.org/wiki/Glendale_Fashion_Center","https://en.wikipedia.org/wiki/Glendale_Galleria","https://en.wikipedia.org/wiki/Great_Mall_of_the_Bay_Area","https://en.wikipedia.org/wiki/Grossmont_Center","https://en.wikipedia.org/wiki/The_Grove_at_Farmers_Market","https://en.wikipedia.org/wiki/Hawthorne_Plaza_Shopping_Center","https://en.wikipedia.org/wiki/Florence_Mall_(Alabama)","https://en.wikipedia.org/wiki/Gadsden_Mall","https://en.wikipedia.org/wiki/Heart_of_Huntsville_Mall","https://en.wikipedia.org/wiki/Jasper_Mall","https://en.wikipedia.org/wiki/Madison_Square_Mall","https://en.wikipedia.org/wiki/The_Mall_at_Westlake","https://en.wikipedia.org/wiki/McFarland_Mall","https://en.wikipedia.org/wiki/Montgomery_Mall_(Alabama)","https://en.wikipedia.org/wiki/Parkway_Place","https://en.wikipedia.org/wiki/Quintard_Mall","https://en.wikipedia.org/wiki/Riverchase_Galleria","https://en.wikipedia.org/wiki/Selma_Mall","https://en.wikipedia.org/wiki/The_Shoppes_at_Bel_Air","https://en.wikipedia.org/wiki/Southgate_Mall_(Muscle_Shoals)","https://en.wikipedia.org/wiki/Springdale_Mall","https://en.wikipedia.org/wiki/University_Mall_(Tuscaloosa,_Alabama)","https://en.wikipedia.org/wiki/Western_Hills_Mall","https://en.wikipedia.org/wiki/Wiregrass_Commons_Mall","https://en.wikipedia.org/wiki/Auburn_Mall_(Alabama)","https://en.wikipedia.org/wiki/Bridge_Street_Town_Centre","https://en.wikipedia.org/wiki/Brookwood_Village","https://en.wikipedia.org/wiki/Century_Plaza","https://en.wikipedia.org/wiki/Decatur_Mall","https://en.wikipedia.org/wiki/Eastdale_Mall","https://en.wikipedia.org/wiki/Eastwood_Village","https://en.wikipedia.org/wiki/Anchorage_5th_Avenue_Mall","https://en.wikipedia.org/wiki/Bentley_Mall","https://en.wikipedia.org/wiki/Dimond_Center","https://en.wikipedia.org/wiki/Arizona_Mills","https://en.wikipedia.org/wiki/Arrowhead_Towne_Center","https://en.wikipedia.org/wiki/Biltmore_Fashion_Park","https://en.wikipedia.org/wiki/Chandler_Fashion_Center","https://en.wikipedia.org/wiki/Christown_Spectrum_Mall","https://en.wikipedia.org/wiki/Desert_Ridge_Marketplace","https://en.wikipedia.org/wiki/Desert_Sky_Mall","https://en.wikipedia.org/wiki/El_Con_Center","https://en.wikipedia.org/wiki/Flagstaff_Mall","https://en.wikipedia.org/wiki/Foothills_Mall_(Arizona)","https://en.wikipedia.org/wiki/La_Encantada_(shopping_center)","https://en.wikipedia.org/wiki/Los_Arcos_Mall","https://en.wikipedia.org/wiki/The_Mall_at_Sierra_Vista","https://en.wikipedia.org/wiki/Maryvale_Mall","https://en.wikipedia.org/wiki/Metrocenter_(Phoenix,_Arizona)","https://en.wikipedia.org/wiki/Paradise_Valley_Mall","https://en.wikipedia.org/wiki/Park_Place_(Tucson,_Arizona)","https://en.wikipedia.org/wiki/Prescott_Gateway_Mall","https://en.wikipedia.org/wiki/Scottsdale_Fashion_Square","https://en.wikipedia.org/wiki/Superstition_Springs_Center","https://en.wikipedia.org/wiki/Tanger_Factory_Outlet_Centers","https://en.wikipedia.org/wiki/Tempe_Marketplace","https://en.wikipedia.org/wiki/Tri-City_Pavilions","https://en.wikipedia.org/wiki/Tucson_Mall","https://en.wikipedia.org/wiki/Northern_Crossing_(shopping_mall)""https://en.wikipedia.org/wiki/Auburn_Mall_(Alabama)", "https://en.wikipedia.org/wiki/Bridge_Street_Town_Centre", "https://en.wikipedia.org/wiki/Brookwood_Village", "https://en.wikipedia.org/wiki/Century_Plaza", "https://en.wikipedia.org/wiki/Decatur_Mall", "https://en.wikipedia.org/wiki/Eastdale_Mall", "https://en.wikipedia.org/wiki/Eastwood_Village", "https://en.wikipedia.org/wiki/Florence_Mall_(Alabama)", "https://en.wikipedia.org/wiki/Gadsden_Mall", "https://en.wikipedia.org/wiki/Heart_of_Huntsville_Mall", "https://en.wikipedia.org/wiki/Jasper_Mall", "https://en.wikipedia.org/wiki/Madison_Square_Mall", "https://en.wikipedia.org/wiki/The_Mall_at_Westlake", "https://en.wikipedia.org/wiki/McFarland_Mall", "https://en.wikipedia.org/wiki/Montgomery_Mall_(Alabama)", "https://en.wikipedia.org/wiki/Parkway_Place", "https://en.wikipedia.org/wiki/Quintard_Mall", "https://en.wikipedia.org/wiki/Riverchase_Galleria", "https://en.wikipedia.org/wiki/Selma_Mall", "https://en.wikipedia.org/wiki/The_Shoppes_at_Bel_Air", "https://en.wikipedia.org/wiki/Southgate_Mall_(Muscle_Shoals)", "https://en.wikipedia.org/wiki/Springdale_Mall", "https://en.wikipedia.org/wiki/University_Mall_(Tuscaloosa,_Alabama)", "https://en.wikipedia.org/wiki/Western_Hills_Mall", "https://en.wikipedia.org/wiki/Wiregrass_Commons_Mall",
   # Add more URLs as needed
]

# Create the folder 'malltexts' if it doesn't exist
if not os.path.exists('malltexts'):
    os.makedirs('malltexts')

for url in urls:
    try:
        # Send a GET request to the URL and retrieve the page content
        response = requests.get(url)
        response.raise_for_status()  # Raise an exception for HTTP errors (4xx and 5xx)

        # Parse the HTML content with Beautiful Soup
        soup = BeautifulSoup(response.text, 'html.parser')

        # Extract the first <h1> tag content
        h1_tag = soup.find('h1')
        if h1_tag:
            h1_text = h1_tag.text.strip()
        else:
            h1_text = "No H1 found"

        # Extract text from the table with class "infobox"
        infobox = soup.find('table', class_='infobox')
        if infobox:
            infobox_text = infobox.get_text(separator='\n')
        else:
            infobox_text = "No infobox found"

        # Create a file inside the 'malltexts' folder with the <h1> content as the filename
        filename = os.path.join('malltexts', f"{h1_text}.txt")
        with open(filename, 'w', encoding='utf-8') as file:
            file.write(f"{h1_text}\n\n")
            file.write(f"\n{infobox_text}")

        print(f"Data saved to {filename}")

    except requests.exceptions.RequestException as e:
        print(f"Failed to retrieve content from {url}: {e}")

print("All data extraction and file creation completed.")
